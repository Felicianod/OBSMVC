@model  OBSMVC.Controllers.QuestionInfo

    <table class="table table-responsive table-condensed table-hover">
        <thead>
            <tr style="background-color:lightgray">
                <th>ID</th>
                <th>Question Text</th>
                <th>Answer Type</th>              
            </tr>
        </thead>   
        <tr>
            <td>@Model.question_id</td>
            <td>@Model.full_text</td>
            <td>@Html.DropDownList("Assigned Answers", Model.question_assigned_answer_types, "Select Answer Type") <br />        
                @if (Model.hasInstances == true && Model.question_assigned_answer_types.Where(item => item.Selected == true).Count() > 0)
                {
                    <ul>
                        @foreach (var x in Model.selectable_answers.Where(x => x.obs_qat_id == Convert.ToInt32(Model.question_assigned_answer_types.Single(item => item.Selected == true).Value)))
                        {
                            @*if (Model.assigned_answer_types.Single(ans_type => ans_type.obs_ans_type_id == (Model.obs_question_answer_types.Single(y => y.obs_qat_id == Convert.ToInt32(Model.question_assigned_answer_types.Single(item => item.Selected == true).Value)).obs_ans_type_id)).obs_ans_type_category == "3 Val Range")
                            {
                                <li><a data-toggle="pill">@x.obs_qsa_text</a></li>
                            }
                            else
                            {
                                  <li>@x.obs_qsa_text</li>
                            }*@
                            <li>@x.obs_qsa_text</li>
                        }
                    </ul>
                }
            </td>          
    </table>
@try
{
    <input type="hidden" id="currentSelectedQAT" name="currentSelectedQAT" value= "@Model.question_assigned_answer_types.FirstOrDefault(item => item.Selected == true).Value" >
}
catch
{
    <input type="hidden" id="currentSelectedQAT" name="currentSelectedQAT" value="-1">
}
