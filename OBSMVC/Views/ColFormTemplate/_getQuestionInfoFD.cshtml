@model  OBSMVC.Controllers.QuestionInfo
@* ===== THIS PARTIAL VIES REPRESENTS A SINGLE QUESTION ANSWER TYPE ADDED TO THE FORM======= *@ 

@{var qViewId = "qRow" + @Model.uniqueCounter;
  var qbtnCloseId = "btnClose" + @Model.uniqueCounter;
  var somethingelst = "something" + @Model.uniqueCounter;
  }


<div class="row " id="@qViewId" style="text-align:left">
    @{var rowInfo = Model.uniqueCounter.ToString(); }
    <div class="row" >
        <div class="col-sm-1" style="text-align:right">
            [@Model.uniqueCounter]
        </div>
        <div class="col-sm-10">
            <p>@Model.full_text</p>
        </div>
        <div class="col-sm-1">
            <button type="button" id="@qbtnCloseId" class="btnClose" onclick="removeSection('@qViewId')" aria-label="Close"><span aria-hidden="true" >&times;</span></button>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-5 col-sm-offset-1">
            <div class="input-group">
                <div class="input-group-addon">Answer Type</div>
                @Html.DropDownList("AssignedAnswers", Model.question_assigned_answer_types, "Select Answer Type", new { id = "AssignedAnswers", @class = "viewDropDown form-control" })
            </div>
        </div>        
    </div>
    <div class="row">
        <div class="col-sm-11 col-sm-offset-1">
            <div class="col-sm-3">
                Selectable Answers: &nbsp;&nbsp;
            </div>
            <div class="col-sm-9">
                @{  
                    var current_selected = -1;
                    var ulId = "ul" + @Model.uniqueCounter;
                }
                @if (Model.hasInstances == true && Model.question_assigned_answer_types.Where(item => item.Selected == true).Count() > 0)
                {
                    current_selected = Convert.ToInt32(Model.question_assigned_answer_types.Single(item => item.Selected == true).Value);
                    <ul id="@ulId">
                        @foreach (var x in Model.selectable_answers.Where(x => x.obs_qat_id == Convert.ToInt32(Model.question_assigned_answer_types.Single(item => item.Selected == true).Value)))
                        {
                            <li style="display: inline"><span class="badge">@x.obs_qsa_text</span></li>
                        }
                    </ul>
                }
            </div>
    </div>        
    </div>
    @{ rowInfo += "as001" + "seccion001"; }
    <input type="hidden" id="formQuestions" value="@rowInfo" />
    <hr />
</div>

@*//==================== NOTHING SHOULD BE LEFT BELOW THIS LINE =========================*@

    @*<input type="hidden" id="currentSelectedQAT" name="currentSelectedQAT" value= "@current_selected" >*@


